{"ast":null,"code":"var _jsxFileName = \"/home/pratik/Downloads/crowdfunder/src/components/auth/SignIn.js\";\nimport React, { Component } from \"react\";\nimport fire from \"../../config/Firebase\";\nimport { Message } from \"semantic-ui-react\";\n\nclass SignIn extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      email: \"\",\n      password: \"\",\n      signeduser: false,\n      errormsg: \"\"\n    };\n\n    this.handleChange = e => {\n      this.setState({\n        [e.target.id]: e.target.value\n      });\n    };\n\n    this.handleSubmit = e => {\n      e.preventDefault();\n      const db = fire.firestore();\n      db.collection(\"users\").doc(this.state.email).get().then(doc => {\n        if (!doc.exists) {\n          console.log(\"No such user!\");\n          this.setState({\n            errormsg: \"No Such User\"\n          });\n        } else {\n          console.log(\"User Exists\");\n          fire.auth().signInWithEmailAndPassword(this.state.email, this.state.password).then(u => {\n            console.log(this.state);\n          }).catch(u => {\n            // console.log(error);\n            this.setState({\n              errormsg: u.code\n            });\n          });\n        }\n      }).catch(err => {\n        console.log(\"Error getting document\", err);\n      });\n    };\n  }\n\n  render() {\n    const waitingMessage = this.state.signeduser ? /*#__PURE__*/React.createElement(Message, {\n      warning: true,\n      header: \"Notice!\",\n      content: \"Logging User! Please be patient.\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 7\n      }\n    }) : \"\";\n    const successMessage = this.state.signeduser ? /*#__PURE__*/React.createElement(Message, {\n      success: true,\n      header: \"Congrats!\",\n      content: \"User Signed In!\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 7\n      }\n    }) : \"\";\n    const errorMessage = this.state.errormsg ? /*#__PURE__*/React.createElement(Message, {\n      error: true,\n      header: \"Error!\",\n      content: this.state.errormsg,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 7\n      }\n    }) : \"\";\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"form\", {\n      className: \"white\",\n      onSubmit: this.handleSubmit,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"h1\", {\n      className: \"grey-text text-darken-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 11\n      }\n    }, \"Sign In\"), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"input-field\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      htmlFor: \"email\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 13\n      }\n    }, \"Email\"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"email\",\n      id: \"email\",\n      onChange: this.handleChange,\n      required: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 13\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"input-field\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      htmlFor: \"password\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 13\n      }\n    }, \"Password\"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"password\",\n      id: \"password\",\n      onChange: this.handleChange,\n      required: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 13\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"input-field\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      className: \"btn blue lighten-1 z-depth-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 13\n      }\n    }, \"Login\")), waitingMessage, successMessage, errorMessage));\n  }\n\n}\n\nexport default SignIn;","map":{"version":3,"sources":["/home/pratik/Downloads/crowdfunder/src/components/auth/SignIn.js"],"names":["React","Component","fire","Message","SignIn","state","email","password","signeduser","errormsg","handleChange","e","setState","target","id","value","handleSubmit","preventDefault","db","firestore","collection","doc","get","then","exists","console","log","auth","signInWithEmailAndPassword","u","catch","code","err","render","waitingMessage","successMessage","errorMessage"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport fire from \"../../config/Firebase\";\nimport { Message } from \"semantic-ui-react\";\n\nclass SignIn extends Component {\n  state = {\n    email: \"\",\n    password: \"\",\n    signeduser: false,\n    errormsg: \"\",\n  };\n  handleChange = (e) => {\n    this.setState({\n      [e.target.id]: e.target.value,\n    });\n  };\n  handleSubmit = (e) => {\n    e.preventDefault();\n\n    const db = fire.firestore();\n    db.collection(\"users\")\n      .doc(this.state.email)\n      .get()\n      .then((doc) => {\n        if (!doc.exists) {\n          console.log(\"No such user!\");\n          this.setState({ errormsg: \"No Such User\" });\n        } else {\n          console.log(\"User Exists\");\n          fire\n            .auth()\n            .signInWithEmailAndPassword(this.state.email, this.state.password)\n            .then((u) => {\n              console.log(this.state);\n            })\n            .catch((u) => {\n              // console.log(error);\n              this.setState({ errormsg: u.code });\n            });\n        }\n      })\n      .catch((err) => {\n        console.log(\"Error getting document\", err);\n      });\n  };\n  render() {\n    const waitingMessage = this.state.signeduser ? (\n      <Message\n        warning\n        header=\"Notice!\"\n        content=\"Logging User! Please be patient.\"\n      />\n    ) : (\n      \"\"\n    );\n\n    const successMessage = this.state.signeduser ? (\n      <Message success header=\"Congrats!\" content=\"User Signed In!\" />\n    ) : (\n      \"\"\n    );\n\n    const errorMessage = this.state.errormsg ? (\n      <Message error header=\"Error!\" content={this.state.errormsg} />\n    ) : (\n      \"\"\n    );\n    return (\n      <div className=\"container\">\n        <form className=\"white\" onSubmit={this.handleSubmit}>\n          <h1 className=\"grey-text text-darken-3\">Sign In</h1>\n          <br />\n          <br />\n          <div className=\"input-field\">\n            <label htmlFor=\"email\">Email</label>\n            <input\n              type=\"email\"\n              id=\"email\"\n              onChange={this.handleChange}\n              required\n            />\n          </div>\n          <div className=\"input-field\">\n            <label htmlFor=\"password\">Password</label>\n            <input\n              type=\"password\"\n              id=\"password\"\n              onChange={this.handleChange}\n              required\n            />\n          </div>\n          <div className=\"input-field\">\n            <button className=\"btn blue lighten-1 z-depth-3\">Login</button>\n          </div>\n          {waitingMessage}\n          {successMessage}\n          {errorMessage}\n        </form>\n      </div>\n    );\n  }\n}\n\nexport default SignIn;\n"]},"metadata":{},"sourceType":"module"}